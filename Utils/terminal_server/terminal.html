<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Remote Interpreter</title>
	<script language="JavaScript" type="text/javascript" src="js/jquery-2.0.2.min.js"></script>
        <script src="lib/CodeMirror-2.3/lib/codemirror.js" type="text/javascript"></script>
        <link rel="stylesheet" href="lib/CodeMirror-2.3/lib/codemirror.css"></link>
        <script src="lib/CodeMirror-2.3/mode/python/python.js" type="text/javascript"></script>
        <script src="js/codemirror-ui.js" type="text/javascript"></script>
        <link rel="stylesheet" href="css/codemirror-ui.css" type="text/css" media="screen"></link>
	<script language="JavaScript" type="text/javascript" src="js/mouseapp.js"></script>
	<script language="JavaScript" type="text/javascript" src="js/mousepython.js"></script>
	<link rel="stylesheet" href="css/screen.css" type="text/css" media="screen" charset="utf-8"></link>
</head>
<body>
        <h1>Remote interpreter</h1>
        <br>
        <a href="/"id="clear">Clear</a>
        <div id="terminal" class="clear">
		<div id="python"></div>
	</div>
        <div id="log_messages" class="clear">
          <h3>Log messages</h3>
          <div id="logger"></div>
        </div>       
 
	<script type="text/javascript" charset="utf-8">
          var wpython = new MouseApp.Python('#python', {
                        rows: 24,
                        columns: 136,
                        name: 'Remote Interpreter',
                        greeting: "Have fun",
                        ps: '>'
                });


	  $(document).ready(function() {
		function resizeTerminal(e) {
			var newWindowHeight = $(window).height();
			$("#terminal").height(newWindowHeight-280);
                        $("#terminal").width($(window).width());			
		}
		$(window).bind("resize", resizeTerminal);

		$("a#clear").click(function(e) {
			wpython.clear();
			wpython.prompt();
			e.preventDefault();
		});

		resizeTerminal();

                wpython.executing = false;
                wpython.session_id = %d; 
 
                wpython.askForOutput();
                wpython.askForLogMessages();
	  });
	</script>
</body>
</html>

